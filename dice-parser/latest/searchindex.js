Search.setIndex({"docnames": ["api", "ast", "expression", "index", "quickstart", "utils"], "filenames": ["api.rst", "ast.rst", "expression.rst", "index.rst", "quickstart.rst", "utils.rst"], "titles": ["Class Reference", "Abstract Syntax Tree", "Expression Tree", "Welcome to dice-parser\u2019s documentation!", "dice-parser", "Utilities"], "terms": {"look": [0, 1, 2], "inform": 0, "dice_pars": [0, 1, 2, 4, 5], "express": [0, 1, 3, 4, 5], "ast": [0, 1, 4, 5], "node": [0, 1, 4, 5], "check": [0, 1, 2], "out": [0, 1, 2], "tree": [0, 3, 4, 5], "return": [0, 1, 2, 4, 5], "roll": [0, 1, 2, 4, 5], "abstract": [0, 2, 3], "syntax": [0, 2, 3], "pars": [0, 1, 2, 5], "roller": [0, 1, 2], "context": [0, 2], "option": [0, 1, 2, 5], "rollcontext": [0, 2], "none": [0, 1, 2, 4, 5], "The": [0, 1, 2, 4, 5], "main": [0, 4], "respons": 0, "an": [0, 1, 2, 4, 5], "evalu": [0, 4, 5], "associ": 0, "thi": [0, 1, 2, 4, 5], "type": [0, 1, 2, 5], "expr": [0, 2, 4, 5], "str": [0, 1, 2, 4], "dice_ast": [0, 1, 5], "allow_com": [0, 4], "bool": [0, 2, 5], "fals": 0, "advantag": [0, 5], "advtyp": [0, 5], "rollresult": [0, 2], "paramet": [0, 1, 2, 5], "union": [0, 1, 2], "result": [0, 4], "default": [0, 4], "markdownstringifi": 0, "whether": [0, 2], "comment": [0, 1, 2, 3], "after": 0, "disabl": [0, 4], "cach": [0, 4], "can": [0, 4, 5], "lead": [0, 4], "possibl": 0, "perform": [0, 3], "issu": 0, "If": [0, 1, 2], "should": 0, "made": 0, "di": 0, "onli": [0, 4], "appli": 0, "leftmost": [0, 1, 2, 5], "s": [0, 1, 2, 4], "1d20": [0, 4], "repres": [0, 1, 2], "the_ast": 0, "the_rol": 0, "hold": 0, "about": 0, "instanc": [0, 4], "gener": [0, 2], "construct": 0, "manual": 0, "int": [0, 1, 2, 4], "x": [0, 2, 4], "integ": [0, 2], "round": [0, 2], "toward": 0, "0": [0, 4], "string": 0, "float": [0, 1, 2], "without": [0, 4], "wa": [0, 2, 4], "represent": [0, 4], "true": [0, 2, 4, 5], "found": 0, "otherwis": 0, "properti": [0, 1, 2], "total": [0, 2, 4], "equival": [0, 4], "self": [0, 1, 2, 4], "crit": [0, 4], "crittyp": [0, 4], "xd20kh1": 0, "20": [0, 4], "fail": 0, "1": [0, 4], "max_rol": 0, "1000": [0, 4], "us": [0, 4, 5], "track": 0, "ensur": 0, "all": [0, 1, 2, 4, 5], "halt": 0, "eventu": 0, "maximum": [0, 2, 4], "number": [0, 1, 2, 5], "allow": [0, 4], "per": [0, 4], "invoc": 0, "reset": 0, "call": 0, "start": [0, 4], "each": [0, 1, 2, 4, 5], "new": [0, 1, 2], "count_rol": 0, "n": [0, 1, 2, 5], "time": 0, "die": [0, 1, 2, 4], "rais": 0, "toomanyrol": 0, "exce": 0, "valu": [0, 1, 2, 4], "enum": 0, "adv": 0, "disadvantag": 0, "critic": 0, "hit": 0, "natur": 0, "d20": [0, 4], "2": [0, 4], "abc": [0, 1], "builder": 0, "from": [0, 2, 4], "subclass": [0, 4], "implement": [0, 1, 2, 4], "str_": [0, 4], "method": [0, 1, 2, 4, 5], "transform": [0, 5], "str_express": [0, 4], "str_liter": 0, "liter": [0, 1, 2, 4, 5], "str_unop": 0, "unop": [0, 1, 2], "str_binop": 0, "binop": [0, 1, 2], "str_parenthet": 0, "parenthet": [0, 1, 2], "str_set": 0, "set": [0, 1, 2], "str_dice": 0, "str_die": 0, "recurs": 0, "bottom": 0, "up": [0, 4, 5], "stringify_nod": [0, 4], "need": [0, 4], "simplestringifi": [0, 4], "rollerror": 0, "msg": 0, "base": [0, 1, 2, 4], "parser": 0, "error": 0, "rollsyntaxerror": 0, "line": 0, "col": 0, "got": 0, "lark": [0, 1], "lexer": [0, 1], "token": [0, 1], "expect": 0, "incorrect": 0, "rollvalueerror": 0, "A": [0, 1, 2, 4, 5], "bad": 0, "pass": [0, 4, 5], "oper": [0, 1, 2], "too": 0, "mani": [0, 4], "individu": 0, "rerol": [0, 4], "page": [1, 2, 3], "document": [1, 2], "structur": [1, 2], "object": [1, 2], "you": [1, 2, 4], "re": [1, 2], "class": [1, 2, 3, 4], "childmixin": [1, 2, 5], "mixin": 1, "must": 1, "support": [1, 4], "traver": 1, "util": [1, 3], "children": [1, 2], "list": [1, 2], "left": [1, 2, 5], "child": [1, 2, 5], "ani": [1, 2, 4, 5], "right": [1, 2, 5], "rightmost": [1, 5], "set_child": [1, 2], "index": [1, 2, 3], "specif": 1, "ha": [1, 2], "attribut": 1, "travers": [1, 4], "which": [1, 2, 4], "ar": [1, 2, 4, 5], "usual": [1, 2], "root": [1, 2, 5], "subtre": [1, 2], "annotatednumb": 1, "annot": [1, 2, 3, 5], "literalnod": 1, "insid": [1, 2], "parenthes": [1, 2], "op": [1, 2], "unari": [1, 2], "binari": [1, 2], "operatedset": 1, "the_set": 1, "numberset": 1, "dicenod": 1, "nodesetoper": 1, "run": [1, 2], "sequenc": 1, "setoper": [1, 2], "element": [1, 2, 4], "operateddic": 1, "the_dic": 1, "num": [1, 2, 4], "size": [1, 2], "dice": [1, 2, 5], "side": [1, 2, 4], "sel": [1, 2, 4], "nodesetselector": 1, "select": [1, 2, 4], "selector": [1, 2], "describ": [1, 2], "how": [1, 2, 4], "operand": [1, 2], "setselector": [1, 2], "cat": [1, 2], "lowest": [1, 2, 4], "highest": [1, 2, 4], "etc": [1, 2], "kept": [2, 4], "note": [2, 4], "numer": 2, "respect": [2, 5], "down": 2, "drop": [2, 4], "final": 2, "calcul": 2, "member": 2, "keptset": 2, "show": 2, "inherit": [2, 5], "kwarg": [2, 5], "histori": 2, "been": 2, "explod": [2, 4], "caus": 2, "mark": 2, "updat": 2, "chang": [2, 4], "parenthesi": 2, "e": [2, 4], "roll_anoth": 2, "anoth": [2, 4], "appropri": 2, "add": [2, 4], "singl": [2, 4], "target": 2, "max_target": 2, "sourc": [2, 4], "place": [2, 5], "kei": 3, "featur": 3, "instal": 3, "quickstart": 3, "custom": 3, "stringifi": 3, "refer": 3, "enumer": 3, "except": 3, "modul": 3, "search": [3, 5], "fast": 4, "power": 4, "extens": 4, "engin": 4, "d": 4, "system": 4, "other": 4, "quick": 4, "just": 4, "optimis": 4, "speed": 4, "memori": 4, "effici": 4, "highli": 4, "api": 4, "behaviour": [4, 5], "stringif": 4, "built": 4, "execut": 4, "limit": 4, "against": 4, "malici": 4, "easi": 4, "requir": 4, "python": 4, "3": 4, "10": 4, "python3": 4, "m": 4, "pip": 4, "git": 4, "http": 4, "github": 4, "com": 4, "lmaotrigin": 4, "import": 4, "5": 4, "15": 4, "normal": 4, "roughli": 4, "order": 4, "rightli": 4, "bind": 4, "These": 4, "atom": 4, "name": 4, "descript": 4, "decim": 4, "3d6": 4, "contain": 4, "et_op": 4, "opera": 4, "tion": 4, "see": 4, "below": 4, "kh3": 4, "ro": 4, "ector": 4, "seltyp": 4, "h1": 4, "alwai": 4, "follow": 4, "item": 4, "match": 4, "k": 4, "keep": 4, "p": 4, "rr": 4, "until": 4, "onc": 4, "ra": 4, "one": 4, "origin": 4, "mi": 4, "minimum": 4, "ma": 4, "remain": 4, "hx": 4, "lx": 4, "greater": 4, "than": 4, "less": 4, "posit": 4, "doe": 4, "noth": 4, "neg": 4, "y": 4, "multipl": 4, "divis": 4, "modulo": 4, "addit": 4, "subtract": 4, "equal": 4, "inequ": 4, "r": 4, "4d6kh3": 4, "four": 4, "6": 4, "14": 4, "4": 4, "2d6ro": 4, "2d6": 4, "1s": 4, "2s": 4, "9": 4, "8d6mi2": 4, "8d6": 4, "have": 4, "33": 4, "1d4": 4, "2d6kl1": 4, "kh1": 4, "lower": 4, "format": 4, "markdown": 4, "mai": 4, "your": 4, "applic": 4, "To": 4, "creat": 4, "view": 4, "point": 4, "Then": 4, "simpli": 4, "function": [4, 5], "mystringifi": 4, "def": 4, "super": 4, "f": 4, "4d6e6kh3": 4, "17": 4, "i": 4, "tag": 4, "part": 4, "some": 4, "indic": 4, "For": 4, "fire": 4, "pierc": 4, "1d8": 4, "heal": 4, "7": 4, "two": 4, "three": 4, "valid": 4, "pure": 4, "visual": 4, "do": 4, "affect": 4, "addition": 4, "when": [4, 5], "13": 4, "while": 4, "enabl": 4, "slightli": 4, "wors": 4, "By": 4, "256": 4, "most": 4, "frequent": 4, "lfu": 4, "signific": 4, "speedup": 4, "same": 4, "kind": 4, "With": 4, "timeit": 4, "10000": 4, "loop": 4, "best": 4, "21": 4, "usec": 4, "100d20": 4, "500": 4, "572": 4, "50": 4, "732": 4, "10d20rr": 4, "msec": 4, "5000": 4, "61": 4, "620": 4, "26": 4, "ast_adv_copi": 5, "adv_typ": 5, "minim": 5, "shallow": 5, "copi": 5, "simplify_expr_annot": 5, "ambig_inherit": 5, "simplifi": 5, "bubbl": 5, "encount": 5, "parent": 5, "ambigu": 5, "simplify_expr": 5, "remov": 5, "branch": 5, "argument": 5, "tree_map": 5, "func": 5, "callabl": 5, "t": 5, "replac": 5, "leaf": 5, "df": 5, "predic": 5, "first": 5, "depth": 5, "prefic": 5}, "objects": {"dice_parser": [[0, 0, 1, "", "AdvType"], [2, 0, 1, "", "BinOp"], [0, 0, 1, "", "CritType"], [2, 0, 1, "", "Dice"], [2, 0, 1, "", "Die"], [2, 0, 1, "", "Expression"], [2, 0, 1, "", "Literal"], [0, 0, 1, "", "MarkdownStringifier"], [2, 0, 1, "", "Number"], [2, 0, 1, "", "Parenthetical"], [0, 0, 1, "", "RollContext"], [0, 0, 1, "", "RollError"], [0, 0, 1, "", "RollResult"], [0, 0, 1, "", "RollSyntaxError"], [0, 0, 1, "", "RollValueError"], [0, 0, 1, "", "Roller"], [2, 0, 1, "", "Set"], [2, 0, 1, "", "SetOperator"], [2, 0, 1, "", "SetSelector"], [0, 0, 1, "", "SimpleStringifier"], [0, 0, 1, "", "Stringifier"], [0, 0, 1, "", "TooManyRolls"], [2, 0, 1, "", "UnOp"], [5, 4, 0, "-", "utils"]], "dice_parser.AdvType": [[0, 1, 1, "", "ADV"], [0, 1, 1, "", "DIS"], [0, 1, 1, "", "NONE"]], "dice_parser.BinOp": [[2, 1, 1, "", "left"], [2, 1, 1, "", "op"], [2, 1, 1, "", "right"]], "dice_parser.CritType": [[0, 1, 1, "", "CRIT"], [0, 1, 1, "", "FAIL"], [0, 1, 1, "", "NONE"]], "dice_parser.Dice": [[2, 1, 1, "", "num"], [2, 1, 1, "", "operations"], [2, 2, 1, "", "roll_another"], [2, 1, 1, "", "size"], [2, 1, 1, "", "values"]], "dice_parser.Die": [[2, 1, 1, "", "size"], [2, 1, 1, "", "values"]], "dice_parser.Expression": [[2, 1, 1, "", "comment"], [2, 1, 1, "", "roll"]], "dice_parser.Literal": [[2, 2, 1, "", "explode"], [2, 1, 1, "", "exploded"], [2, 2, 1, "", "update"], [2, 1, 1, "", "values"]], "dice_parser.Number": [[2, 1, 1, "", "annotation"], [2, 1, 1, "", "kept"], [2, 3, 1, "", "left"], [2, 2, 1, "", "set_child"]], "dice_parser.Parenthetical": [[2, 1, 1, "", "operations"], [2, 1, 1, "", "value"]], "dice_parser.RollContext": [[0, 2, 1, "", "count_roll"], [0, 1, 1, "", "max_rolls"], [0, 2, 1, "", "reset"]], "dice_parser.RollResult": [[0, 1, 1, "", "ast"], [0, 1, 1, "", "comment"], [0, 3, 1, "", "crit"], [0, 1, 1, "", "expr"], [0, 3, 1, "", "result"], [0, 3, 1, "", "total"]], "dice_parser.Roller": [[0, 1, 1, "", "context"], [0, 2, 1, "", "parse"], [0, 2, 1, "", "roll"]], "dice_parser.Set": [[2, 1, 1, "", "operations"], [2, 1, 1, "", "values"]], "dice_parser.SetOperator": [[2, 1, 1, "", "op"], [2, 2, 1, "", "operate"], [2, 2, 1, "", "select"], [2, 1, 1, "", "sels"]], "dice_parser.SetSelector": [[2, 1, 1, "", "cat"], [2, 1, 1, "", "num"], [2, 2, 1, "", "select"]], "dice_parser.Stringifier": [[0, 2, 1, "", "str_binop"], [0, 2, 1, "", "str_dice"], [0, 2, 1, "", "str_die"], [0, 2, 1, "", "str_expression"], [0, 2, 1, "", "str_literal"], [0, 2, 1, "", "str_parenthetical"], [0, 2, 1, "", "str_set"], [0, 2, 1, "", "str_unop"], [0, 2, 1, "", "stringify"], [0, 2, 1, "", "stringify_node"]], "dice_parser.UnOp": [[2, 1, 1, "", "op"], [2, 1, 1, "", "value"]], "dice_parser.ast": [[1, 0, 1, "", "AnnotatedNumber"], [1, 0, 1, "", "BinOp"], [1, 0, 1, "", "ChildMixin"], [1, 0, 1, "", "DiceNode"], [1, 0, 1, "", "Expression"], [1, 0, 1, "", "LiteralNode"], [1, 0, 1, "", "Node"], [1, 0, 1, "", "NodeSetOperator"], [1, 0, 1, "", "NodeSetSelector"], [1, 0, 1, "", "NumberSet"], [1, 0, 1, "", "OperatedDice"], [1, 0, 1, "", "OperatedSet"], [1, 0, 1, "", "Parenthetical"], [1, 0, 1, "", "UnOp"]], "dice_parser.ast.AnnotatedNumber": [[1, 1, 1, "", "annotations"], [1, 1, 1, "", "value"]], "dice_parser.ast.BinOp": [[1, 1, 1, "", "left"], [1, 1, 1, "", "op"], [1, 1, 1, "", "right"]], "dice_parser.ast.ChildMixin": [[1, 3, 1, "", "children"], [1, 3, 1, "", "left"], [1, 3, 1, "", "right"], [1, 2, 1, "", "set_child"]], "dice_parser.ast.DiceNode": [[1, 1, 1, "", "num"], [1, 1, 1, "", "size"]], "dice_parser.ast.Expression": [[1, 1, 1, "", "comment"], [1, 1, 1, "", "roll"]], "dice_parser.ast.LiteralNode": [[1, 1, 1, "", "value"]], "dice_parser.ast.Node": [[1, 3, 1, "", "children"], [1, 2, 1, "", "set_child"]], "dice_parser.ast.NodeSetOperator": [[1, 1, 1, "", "op"], [1, 1, 1, "", "sets"]], "dice_parser.ast.NodeSetSelector": [[1, 1, 1, "", "cat"], [1, 1, 1, "", "num"]], "dice_parser.ast.NumberSet": [[1, 1, 1, "", "values"]], "dice_parser.ast.OperatedSet": [[1, 1, 1, "", "operations"], [1, 1, 1, "", "value"]], "dice_parser.ast.Parenthetical": [[1, 1, 1, "", "value"]], "dice_parser.ast.UnOp": [[1, 1, 1, "", "op"], [1, 1, 1, "", "value"]], "dice_parser.utils": [[5, 5, 1, "", "ast_adv_copy"], [5, 5, 1, "", "dfs"], [5, 5, 1, "", "leftmost"], [5, 5, 1, "", "rightmost"], [5, 5, 1, "", "simplify_expr"], [5, 5, 1, "", "simplify_expr_annotations"], [5, 5, 1, "", "tree_map"]]}, "objtypes": {"0": "py:class", "1": "py:attribute", "2": "py:method", "3": "py:property", "4": "py:module", "5": "py:function"}, "objnames": {"0": ["py", "class", "Python class"], "1": ["py", "attribute", "Python attribute"], "2": ["py", "method", "Python method"], "3": ["py", "property", "Python property"], "4": ["py", "module", "Python module"], "5": ["py", "function", "Python function"]}, "titleterms": {"class": 0, "refer": 0, "dice": [0, 3, 4], "enumer": 0, "stringifi": [0, 4], "except": 0, "abstract": 1, "syntax": [1, 4], "tree": [1, 2], "express": 2, "welcom": 3, "parser": [3, 4], "s": 3, "document": 3, "content": 3, "indic": 3, "tabl": 3, "kei": 4, "featur": 4, "instal": 4, "quickstart": 4, "number": 4, "set": 4, "oper": 4, "grammar": 4, "selector": 4, "unari": 4, "binari": 4, "exampl": 4, "custom": 4, "annot": 4, "comment": 4, "perform": 4, "util": 5}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1, "sphinx": 56}})